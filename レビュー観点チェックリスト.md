# レビュー観点チェックリスト（GitHub Copilot利用時）

- 文書番号：`[REV-COPILOT-001]`
- 版数：`v0.1`
- 最終更新日：`[YYYY-MM-DD]`
- 対象：`C# / .NET プロジェクト（必要に応じて他言語へ横展開）`

---

## 1. 利用前提の確認
- [ ] 本変更はCopilot利用ポリシーの適用範囲内である
- [ ] 禁止入力（秘密情報・個人情報・顧客機密）をプロンプトに含めていない
- [ ] Content Exclusion対象ファイルを回避していない
- [ ] 例外利用が必要な場合、事前承認または暫定承認の記録がある

## 2. 変更の妥当性（要求適合）
- [ ] 要件/仕様に対して過不足なく実装されている
- [ ] 仕様外の機能追加・挙動変更がない
- [ ] 既存設計（命名、責務分離、レイヤ構成）に整合している
- [ ] 既存API/契約（I/F、DTO、レスポンス形式）を破壊していない

## 3. 可読性・保守性
- [ ] コードが簡潔で、過剰な複雑化がない
- [ ] 変数名・メソッド名が意図を表している
- [ ] 重複コードが抑制され、再利用可能な形になっている
- [ ] 例外的ロジックに必要な説明（コメント/命名）がある

## 4. セキュリティ
- [ ] 入力値検証（null/範囲/形式/長さ）が適切に実装されている
- [ ] 認可/認証要件（ロール、権限制御）を満たしている
- [ ] SQLインジェクション、コマンドインジェクション、XSS等の懸念がない
- [ ] 秘密情報がソース/ログ/例外メッセージに露出していない
- [ ] 暗号・署名・鍵管理の実装が社内標準に準拠している

## 5. データ整合性・業務整合
- [ ] トランザクション境界が適切で整合性を損なわない
- [ ] 並行実行時の競合（ロック、再試行、冪等性）に配慮されている
- [ ] 日時・タイムゾーン・桁あふれ等の境界条件を考慮している
- [ ] 既存データへの影響（移行、互換性、削除条件）を評価している

## 6. パフォーマンス
- [ ] 不要なループ/再計算/同期I/Oがない
- [ ] DBアクセス回数とクエリ効率（N+1、索引利用）を確認した
- [ ] 大量データ時の挙動（メモリ使用量、タイムアウト）を考慮した
- [ ] 必要に応じて計測結果（ベースライン比較）を添付している

## 7. 例外処理・ログ
- [ ] 例外を握り潰していない（適切に再送出または変換）
- [ ] 利用者向けメッセージと運用者向けログを分離している
- [ ] ログレベル（Info/Warn/Error）が適切で過不足がない
- [ ] 個人情報・機密情報をログに出力していない

## 8. テスト
- [ ] 単体テストが追加/更新され、変更点をカバーしている
- [ ] 失敗系・境界値・例外系テストが含まれている
- [ ] 既存テストが全て通過している
- [ ] 回帰リスクが高い箇所に追加検証（結合/手動確認）を実施した

## 9. 依存関係・ライセンス
- [ ] 新規依存パッケージの必要性が説明されている
- [ ] ライセンス上の問題がない
- [ ] 脆弱性既知パッケージを導入していない
- [ ] バージョン固定方針・更新方針に準拠している

## 10. PR運用
- [ ] PR説明に「目的・変更内容・影響範囲・検証結果」を記載した
- [ ] AI利用の有無とレビュー上の注意点を明示した
- [ ] 影響範囲（関連モジュール/運用手順）を関係者へ共有した
- [ ] マージ条件（承認数、CI通過、セキュリティチェック）を満たした

---

## 付録A：AI生成コード向け追加確認（任意）
- [ ] 生成コードをそのまま採用せず、意図を理解したうえで手直しした
- [ ] 外部由来コードの類似性/著作権リスクを確認した
- [ ] ドメイン固有ルール（社内規約、監査要件）へ適合させた
- [ ] プロンプトで不足した前提条件をPRで補足した

## 付録B：レビュー記録テンプレ
- レビュー日：
- 対象PR：
- レビュアー：
- 判定（承認 / 条件付き承認 / 差戻し）：
- 主な指摘事項：
- 再確認ポイント：

---

## 運用メモ
- 本チェックリストは「網羅性」と「実用性」の両立を狙った標準版。
- 重要案件では、セキュリティ/法務/運用の追加レビュー項目を追補すること。
